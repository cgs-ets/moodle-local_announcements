define(["jquery","core/ajax","core/notification"],function(a,t,r){return{list:function(e){var n={query:e};return t.call([{methodname:"local_announcements_get_impersonate_users",args:n}])[0].fail(r.exception)},processResults:function(e,n){var t=[];return a.each(n,function(e,n){t.push({value:n.username,label:'<span><img class="rounded-circle" height="18" src="'+n.photo+'" alt="" role="presentation"> <span>'+n.fullname+"</span></span>"})}),t},transport:function(e,n,t){this.list(n).then(t)}}});